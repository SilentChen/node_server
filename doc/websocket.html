<!DOCTYPE HTML>  
<html>  
<head>  
    <meta http-equiv="content-type" content="text/html" />  
    <meta name="author" content="zhangyalei" />  
    <title>websocket test</title>  
    <script>
		//send_msg:{"msg_id":1, "str":"aas", "int":10}
		var socket;  
		function Connect(){  
			try{  
				socket=new WebSocket('ws://192.168.195.128:8000');  
			}catch(e){  
				alert('error');  
				return;  
			}  
			socket.onopen = sOpen;  
			socket.onerror = sError;
			socket.onmessage= sMessage;
			socket.onclose= sClose;
		}  
		function sOpen(){
			alert('connect success!');
		}
		function sError(e){
			alert("error " + e);
		}
		function sMessage(msg){  
			alert('server says:' + msg.data);  
		}
		function sClose(e){
			alert("connect closed:" + e.code);
		}  
		function Send(){
			socket.send(document.getElementById("msg").value);
		} 
		function Close(){
			socket.close();
		}  
	</script>
</head>  
   
<body>  
<input id="msg" type="text" value="{&quot;msg_id&quot;:1, &quot;str&quot;:&quot;aas&quot;, &quot;int&quot;:10}">  
<button id="connect" onclick="Connect();">Connect</button>  
<button id="send" onclick="Send();">Send</button>  
<button id="close" onclick="Close();">Close</button>

</body>  
   
</html>  